doctype html
html(lang='en')
  head
    title= title
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    link(
      rel='stylesheet',
      href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css',
      integrity='sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy',
      crossorigin='anonymous'
    )
    script(
      src='https://code.jquery.com/jquery-3.2.1.slim.min.js',
      integrity='sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN',
      crossorigin='anonymous'
    )
    script(
      src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js',
      integrity='sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q',
      crossorigin='anonymous'
    )
    script(
      src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js',
      integrity='sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4',
      crossorigin='anonymous'
    )
    link(rel='stylesheet', href='/stylesheets/style.css')
  body
    div(class='container-fluid')
      nav(class='navbar navbar-expand-lg navbar-light bg-light')
        a(class='navbar-brand' href='#')
          span(id='display-name') FCC Polls
        button(
          class='navbar-toggler'
          type='button'
          data-toggle='collapse'
          data-target='#navbarSupportedContent'
          aria-controls='navbarSupportedContent'
          aria-expanded='false'
          aria-label='Toggle navigation'
        )
          span(class='navbar-toggler-icon')
        div(class='collapse navbar-collapse' id='navbarSupportedContent')
          ul(class='navbar-nav mr-auto')
            li(class='nav-item')
              a(class='nav-link' href='/') Home
            li(class='nav-item')
              if user
                a(class='nav-link' href='/api/polls?user=' + user._id) My Polls
              else
                a(class='nav-link' href='/api/polls') All Polls
            li(class='nav-item')
              a(class='nav-link' href='/api/polls/create') New Poll
          ul(class='navbar-nav ml-auto')
            li(class='nav-item dropdown')
              if user
                a(class='nav-link dropdown-toggle' href='#' id='profileDropdown' role='button' data-toggle='dropdown') #{user.name}
                div(class='dropdown-menu' aria-labelledby='profileDropdown')
                  a(class='dropdown-item' href='/api/users/' + user._id) Profile
                  a(class='dropdown-item' href='/logout')
                    button(class='btn btn-outline-danger') Logout
              else
                a(class='nav-link dropdown-toggle' href='#' id='profileDropdown' role='button' data-toggle='dropdown') Profile
                div(class='dropdown-menu' aria-labelledby='profileDropdown')
                  a(class='dropdown-item' href='/logout')
                    button(class='btn btn-outline-danger') Logout
              
      div(class='row')
        div(class='col-sm-1')
        div(class='col-sm-auto')
          block content
        div(class='col-sm-1')